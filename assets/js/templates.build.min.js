/*! For license information please see templates.build.min.js.LICENSE.txt */
var pixmagixEditor;(()=>{var e={184:(e,t)=>{var r;!function(){"use strict";var n={}.hasOwnProperty;function o(){for(var e=[],t=0;t<arguments.length;t++){var r=arguments[t];if(r){var i=typeof r;if("string"===i||"number"===i)e.push(r);else if(Array.isArray(r)){if(r.length){var a=o.apply(null,r);a&&e.push(a)}}else if("object"===i){if(r.toString!==Object.prototype.toString&&!r.toString.toString().includes("[native code]")){e.push(r.toString());continue}for(var l in r)n.call(r,l)&&r[l]&&e.push(l)}}}return e.join(" ")}e.exports?(o.default=o,e.exports=o):void 0===(r=function(){return o}.apply(t,[]))||(e.exports=r)}()},745:(e,t,r)=>{"use strict";var n=r(533);t.s=n.createRoot,n.hydrateRoot},533:e=>{"use strict";e.exports=ReactDOM}},t={};function r(n){var o=t[n];if(void 0!==o)return o.exports;var i=t[n]={exports:{}};return e[n](i,i.exports,r),i.exports}r.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return r.d(t,{a:t}),t},r.d=(e,t)=>{for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var n={};(()=>{"use strict";r.r(n),r.d(n,{Templates:()=>z,initialize:()=>J});var e=r(745);const t=React;function o(e){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o(e)}function i(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,(void 0,i=function(e,t){if("object"!==o(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==o(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(n.key),"symbol"===o(i)?i:String(i)),n)}var i}function a(e,t){return a=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},a(e,t)}function l(e){return l=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},l(e)}const c=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&a(e,t)}(s,e);var t,r,n,c,u,f=(c=s,u=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=l(c);if(u){var r=l(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===o(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,e)});function s(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s),(e=f.apply(this,arguments)).state={hasError:!1},e}return t=s,n=[{key:"getDerivedStateFromError",value:function(){return{hasError:!0}}}],(r=[{key:"componentDidCatch",value:function(){}},{key:"render",value:function(){return this.state.hasError?React.createElement("div",{className:"pixmagix-error-boundary"}):this.props.children}}])&&i(t.prototype,r),n&&i(t,n),Object.defineProperty(t,"prototype",{writable:!1}),s}(t.Component),u=wp.i18n,f=function(){return React.createElement("div",{className:"pixmagix-header"},React.createElement("div",{className:"pixmagix-header__title"},React.createElement("h1",null,(0,u.__)("PixMagix - Templates","pixmagix"))))},s=pixmagixElements,p=pixmagixGlobals,m=wp.apiFetch;var y=r.n(m);const b=lodash;var v="pixmagix/v1/";function g(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";if(0===t.indexOf("data:"))return t;var r=-1===(null==t?void 0:t.indexOf("?"))?"?":"&";return t+r+(0,b.reduce)(e,(function(e,t,r){return e.push(r+"="+t),e}),[]).join("&")}function d(e){return d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},d(e)}var h=["title","preview","hasPrev","hasNext","onNavigate","onClose","sendNotice"];function O(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function x(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?O(Object(r),!0).forEach((function(t){S(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):O(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function S(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==d(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==d(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===d(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function j(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(e){u=!0,o=e}finally{try{if(!c&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(u)throw o}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return w(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?w(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function w(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}const E=function(e){var r=e.title,n=e.preview,o=e.hasPrev,i=e.hasNext,a=e.onNavigate,l=e.onClose,c=e.sendNotice,f=function(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}(e,h),m=j((0,t.useState)(""),2),b=m[0],d=m[1],O=j((0,t.useState)(!1),2),S=O[0],w=O[1],E=function(e){w(!0),y()({path:v+"templates/",method:"POST",data:x(x({},f),{},{title:r,preview:n})}).then((function(t){console.log(t),e&&t.id?window.location.replace(g({id:t.id},p.new_url)):(c({type:"success",message:(0,u.__)("Template Saved Successfully","pixmagix")}),w(!1))})).catch((function(e){var t=e.message;c({type:"error",message:t}),w(!1)}))};return React.createElement(s.Modal,{title:r,actions:React.createElement(s.ButtonGroup,null,React.createElement(s.Button,{active:!0,onClick:function(){return E(!0)}},(0,u.__)("Save And Edit","pixmagix")),React.createElement(s.Button,{onClick:function(){return E()}},(0,u.__)("Just Save","pixmagix"))),navigation:{prev:{disabled:!o,onClick:function(){return a("prev")}},next:{disabled:!i,onClick:function(){return a("next")}}},onClose:l},React.createElement(s.Row,null,React.createElement(s.Column,null,React.createElement("figure",null,React.createElement("img",{src:n}))),React.createElement(s.Column,null,React.createElement(s.Widget,null,React.createElement(s.Input,{label:(0,u.__)("Project Name","pixmagix"),placeholder:r,value:b,onChange:d})))),React.createElement(s.Loader,{show:S}))};var P=[{label:(0,u.__)("All Categories","pixmagix"),value:""},{label:(0,u.__)("Featured Image","pixmagix"),value:"featuredimage"},{label:(0,u.__)("Pinterest","pixmagix"),value:"pinterest"},{label:(0,u.__)("Banner","pixmagix"),value:"banner"},{label:(0,u.__)("Quote","pixmagix"),value:"quote"},{label:(0,u.__)("Infographic","pixmagix"),value:"infographic"},{label:(0,u.__)("Background","pixmagix"),value:"background"}],_=[{label:(0,u.__)("Any Orientation","pixmagix"),value:""},{label:(0,u.__)("Landscape","pixmagix"),value:"landscape"},{label:(0,u.__)("Portrait","pixmagix"),value:"portrait"},{label:(0,u.__)("Square","pixmagix"),value:"square"}];function R(e){return R="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},R(e)}var C=["items","maxPages","sendNotice"];function A(){return A=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},A.apply(this,arguments)}function I(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function N(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?I(Object(r),!0).forEach((function(t){T(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):I(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function T(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==R(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==R(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===R(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function k(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(e){u=!0,o=e}finally{try{if(!c&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(u)throw o}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return D(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?D(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function D(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}const M=function(e){var r=e.items,n=e.maxPages,o=e.sendNotice,i=function(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}(e,C),a=(0,t.useRef)(!1),l=k((0,t.useState)(i),2),c=l[0],f=l[1],m=k((0,t.useState)(n||1),2),d=m[0],h=m[1],O=k((0,t.useState)(r||[]),2),x=O[0],S=O[1],j=k((0,t.useState)(null),2),w=j[0],R=j[1],I=k((0,t.useState)(!1),2),D=I[0],M=I[1],B=(0,t.useMemo)((function(){return(0,b.findIndex)(x,w)}),[x,w]),F=function(e,t){M(!0);var r=t?N(N({},c),{},T({},e,t)):(0,b.omit)(c,e);"page"!==e&&(r.page=1),f(r)};return(0,t.useEffect)((function(){a.current?y()({path:g(c,v+"templates/")}).then((function(e){var t,r,n,o,i;console.log(e),S(e.items),h(e.maxPages),M(!1),t=c,r=p.self_url,i=(0,b.omitBy)(t,(function(e,t){return!e||"page"===t})),t.page&&(i.p=t.page),null===(n=window.history)||void 0===n||null===(o=n.pushState)||void 0===o||o.call(n,{},"",g(i,r))})).catch((function(e){console.error(e)})):a.current=!0}),[c]),React.createElement("div",{className:"pixmagix-content"},React.createElement(s.InlineControls,null,React.createElement(s.Input,{label:(0,u.__)("Search","pixmagix"),value:c.search,onChange:function(e){return F("search",e)}}),React.createElement(s.Select,{label:(0,u.__)("Category","pixmagix"),value:c.category,options:P,onChange:function(e){return F("category",e)}}),React.createElement(s.Select,{label:(0,u.__)("Orientation","pixmagix"),value:c.orientation,options:_,onChange:function(e){return F("orientation",e)}})),React.createElement(s.Pagination,{page:c.page,maxPages:d,onChange:function(e){return F("page",e)}}),React.createElement(s.Grid,null,null!=x&&x.length?x.map((function(e){return React.createElement(s.GridItem,{key:e.id,caption:e.title,src:e.thumbnail,onClick:function(t){t.preventDefault(),R(e)}})})):React.createElement(s.GridItem,{isEmpty:!0,caption:(0,u.__)("No Items Found","pixmagix")})),React.createElement(s.Pagination,{page:c.page,maxPages:d,onChange:function(e){return F("page",e)}}),!!w&&React.createElement(E,A({},w,{hasPrev:B>0,hasNext:B<x.length-1,onNavigate:function(e){var t=function(){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=parseFloat(arguments.length>0&&void 0!==arguments[0]?arguments[0]:0)||0;return Math.min(Math.max(r,e),t)}("prev"===e?B-1:B+1,0,x.length-1);R(x[t])},onClose:function(){return R(null)},sendNotice:o})),React.createElement(s.Loader,{show:D}))};var B=r(184),F=r.n(B);function G(e){return G="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},G(e)}const q=function(e){var r,n,o,i=e.type,a=e.message,l=e.onExpire;return(0,t.useEffect)((function(){a&&setTimeout((function(){l(null)}),4e3)}),[a]),a?React.createElement("div",{className:F()("pixmagix-notification",(r={},n="pixmagix-notification__".concat(i),o=i,(n=function(e){var t=function(e,t){if("object"!==G(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==G(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===G(t)?t:String(t)}(n))in r?Object.defineProperty(r,n,{value:o,enumerable:!0,configurable:!0,writable:!0}):r[n]=o,r))},React.createElement("p",null,a)):null};function L(){return L=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},L.apply(this,arguments)}function U(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}const $=function(e){var r,n,o=(r=(0,t.useState)(null),n=2,function(e){if(Array.isArray(e))return e}(r)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(e){u=!0,o=e}finally{try{if(!c&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(u)throw o}}return l}}(r,n)||function(e,t){if(e){if("string"==typeof e)return U(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?U(e,t):void 0}}(r,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),i=o[0],a=o[1];return React.createElement(c,null,React.createElement(f,null),React.createElement(M,L({},e,{sendNotice:a})),React.createElement(q,L({},i,{onExpire:a})))};var z=function(e){return React.createElement($,e)},J=function(t){var r=document.getElementById("pixmagix");(0,e.s)(r).render(React.createElement(z,t))}})(),pixmagixEditor=n})();