/*! For license information please see templates.build.min.js.LICENSE.txt */
var pixmagixEditor;(()=>{var e={338:(e,t,r)=>{"use strict";var n=r(206);t.H=n.createRoot,n.hydrateRoot},206:e=>{"use strict";e.exports=ReactDOM},942:(e,t)=>{var r;!function(){"use strict";var n={}.hasOwnProperty;function o(){for(var e="",t=0;t<arguments.length;t++){var r=arguments[t];r&&(e=a(e,i(r)))}return e}function i(e){if("string"==typeof e||"number"==typeof e)return e;if("object"!=typeof e)return"";if(Array.isArray(e))return o.apply(null,e);if(e.toString!==Object.prototype.toString&&!e.toString.toString().includes("[native code]"))return e.toString();var t="";for(var r in e)n.call(e,r)&&e[r]&&(t=a(t,r));return t}function a(e,t){return t?e?e+" "+t:e+t:e}e.exports?(o.default=o,e.exports=o):void 0===(r=function(){return o}.apply(t,[]))||(e.exports=r)}()}},t={};function r(n){var o=t[n];if(void 0!==o)return o.exports;var i=t[n]={exports:{}};return e[n](i,i.exports,r),i.exports}r.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return r.d(t,{a:t}),t},r.d=(e,t)=>{for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var n={};(()=>{"use strict";r.r(n),r.d(n,{Templates:()=>Q,initialize:()=>W});var e=r(338);const t=React;function o(e){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o(e)}function i(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,a(n.key),n)}}function a(e){var t=function(e){if("object"!=o(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=o(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==o(t)?t:t+""}function l(e,t,r){return t=c(t),function(e,t){if(t&&("object"==o(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,u()?Reflect.construct(t,r||[],c(e).constructor):t.apply(e,r))}function u(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(u=function(){return!!e})()}function c(e){return c=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},c(e)}function f(e,t){return f=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},f(e,t)}const s=function(e){function t(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(e=l(this,t,arguments)).state={hasError:!1},e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&f(e,t)}(t,e),r=t,o=[{key:"getDerivedStateFromError",value:function(){return{hasError:!0}}}],(n=[{key:"componentDidCatch",value:function(){}},{key:"render",value:function(){return this.state.hasError?React.createElement("div",{className:"pixmagix-error-boundary"}):this.props.children}}])&&i(r.prototype,n),o&&i(r,o),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,n,o}(t.Component),p=wp.i18n,m=function(){return React.createElement("div",{className:"pixmagix-header"},React.createElement("div",{className:"pixmagix-header__title"},React.createElement("h1",null,(0,p.__)("PixMagix - Templates","pixmagix"))))},y=pixmagixElements,b=pixmagixGlobals,v=wp.apiFetch;var g=r.n(v);const d=lodash;var h="pixmagix/v1/";function x(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";if(0===t.indexOf("data:"))return t;var r=-1===(null==t?void 0:t.indexOf("?"))?"?":"&";return t+r+(0,d.reduce)(e,(function(e,t,r){return e.push(r+"="+t),e}),[]).join("&")}function O(e){return O="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},O(e)}var S=["title","preview","hasPrev","hasNext","onNavigate","onClose","sendNotice"];function j(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function w(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?j(Object(r),!0).forEach((function(t){E(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):j(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function E(e,t,r){return(t=function(e){var t=function(e){if("object"!=O(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=O(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==O(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function P(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,l=[],u=!0,c=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);u=!0);}catch(e){c=!0,o=e}finally{try{if(!u&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(c)throw o}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return _(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?_(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}const R=function(e){var r=e.title,n=e.preview,o=e.hasPrev,i=e.hasNext,a=e.onNavigate,l=e.onClose,u=e.sendNotice,c=function(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.includes(n))continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.includes(r)||{}.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}(e,S),f=P((0,t.useState)(""),2),s=f[0],m=f[1],v=P((0,t.useState)(!1),2),d=v[0],O=v[1],j=function(e){O(!0),g()({path:h+"templates/",method:"POST",data:w(w({},c),{},{title:r,preview:n})}).then((function(t){console.log(t),e&&t.id?window.location.replace(x({id:t.id},b.new_url)):(u({type:"success",message:(0,p.__)("Template Saved Successfully","pixmagix")}),O(!1))})).catch((function(e){var t=e.message;u({type:"error",message:t}),O(!1)}))};return React.createElement(y.Modal,{title:r,actions:React.createElement(y.ButtonGroup,null,React.createElement(y.Button,{active:!0,onClick:function(){return j(!0)}},(0,p.__)("Save And Edit","pixmagix")),React.createElement(y.Button,{onClick:function(){return j()}},(0,p.__)("Just Save","pixmagix"))),navigation:{prev:{disabled:!o,onClick:function(){return a("prev")}},next:{disabled:!i,onClick:function(){return a("next")}}},onClose:l},React.createElement(y.Row,null,React.createElement(y.Column,null,React.createElement("figure",null,React.createElement("img",{src:n}))),React.createElement(y.Column,null,React.createElement(y.Widget,null,React.createElement(y.Input,{label:(0,p.__)("Project Name","pixmagix"),placeholder:r,value:s,onChange:m})))),React.createElement(y.Loader,{show:d}))};var C=[{label:(0,p.__)("All Categories","pixmagix"),value:""},{label:(0,p.__)("Featured Image","pixmagix"),value:"featuredimage"},{label:(0,p.__)("Pinterest","pixmagix"),value:"pinterest"},{label:(0,p.__)("Banner","pixmagix"),value:"banner"},{label:(0,p.__)("Quote","pixmagix"),value:"quote"},{label:(0,p.__)("Infographic","pixmagix"),value:"infographic"},{label:(0,p.__)("Background","pixmagix"),value:"background"}],A=[{label:(0,p.__)("Any Orientation","pixmagix"),value:""},{label:(0,p.__)("Landscape","pixmagix"),value:"landscape"},{label:(0,p.__)("Portrait","pixmagix"),value:"portrait"},{label:(0,p.__)("Square","pixmagix"),value:"square"}];function I(e){return I="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},I(e)}var N=["items","maxPages","sendNotice"];function T(){return T=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},T.apply(null,arguments)}function k(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function D(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?k(Object(r),!0).forEach((function(t){M(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):k(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function M(e,t,r){return(t=function(e){var t=function(e){if("object"!=I(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=I(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==I(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function B(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,l=[],u=!0,c=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);u=!0);}catch(e){c=!0,o=e}finally{try{if(!u&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(c)throw o}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return F(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?F(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function F(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}const G=function(e){var r=e.items,n=e.maxPages,o=e.sendNotice,i=function(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.includes(n))continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.includes(r)||{}.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}(e,N),a=(0,t.useRef)(!1),l=B((0,t.useState)(i),2),u=l[0],c=l[1],f=B((0,t.useState)(n||1),2),s=f[0],m=f[1],v=B((0,t.useState)(r||[]),2),O=v[0],S=v[1],j=B((0,t.useState)(null),2),w=j[0],E=j[1],P=B((0,t.useState)(!1),2),_=P[0],I=P[1],k=(0,t.useMemo)((function(){return(0,d.findIndex)(O,w)}),[O,w]),F=function(e,t){I(!0);var r=t?D(D({},u),{},M({},e,t)):(0,d.omit)(u,e);"page"!==e&&(r.page=1),c(r)};return(0,t.useEffect)((function(){a.current?g()({path:x(u,h+"templates/")}).then((function(e){var t,r,n,o,i;console.log(e),S(e.items),m(e.maxPages),I(!1),t=u,r=b.self_url,i=(0,d.omitBy)(t,(function(e,t){return!e||"page"===t})),t.page&&(i.p=t.page),null===(n=window.history)||void 0===n||null===(o=n.pushState)||void 0===o||o.call(n,{},"",x(i,r))})).catch((function(e){console.error(e)})):a.current=!0}),[u]),React.createElement("div",{className:"pixmagix-content"},React.createElement(y.InlineControls,null,React.createElement(y.Input,{label:(0,p.__)("Search","pixmagix"),value:u.search,onChange:function(e){return F("search",e)}}),React.createElement(y.Select,{label:(0,p.__)("Category","pixmagix"),value:u.category,options:C,onChange:function(e){return F("category",e)}}),React.createElement(y.Select,{label:(0,p.__)("Orientation","pixmagix"),value:u.orientation,options:A,onChange:function(e){return F("orientation",e)}})),React.createElement(y.Pagination,{page:u.page,maxPages:s,onChange:function(e){return F("page",e)}}),React.createElement(y.Grid,null,null!=O&&O.length?O.map((function(e){return React.createElement(y.GridItem,{key:e.id,caption:e.title,src:e.thumbnail,onClick:function(t){t.preventDefault(),E(e)}})})):React.createElement(y.GridItem,{isEmpty:!0,caption:(0,p.__)("No Items Found","pixmagix")})),React.createElement(y.Pagination,{page:u.page,maxPages:s,onChange:function(e){return F("page",e)}}),!!w&&React.createElement(R,T({},w,{hasPrev:k>0,hasNext:k<O.length-1,onNavigate:function(e){var t=function(){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=parseFloat(arguments.length>0&&void 0!==arguments[0]?arguments[0]:0)||0;return Math.min(Math.max(r,e),t)}("prev"===e?k-1:k+1,0,O.length-1);E(O[t])},onClose:function(){return E(null)},sendNotice:o})),React.createElement(y.Loader,{show:_}))};var q=r(942),L=r.n(q);function U(e){return U="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},U(e)}const $=function(e){var r,n,o,i=e.type,a=e.message,l=e.onExpire;return(0,t.useEffect)((function(){a&&setTimeout((function(){l(null)}),4e3)}),[a]),a?React.createElement("div",{className:L()("pixmagix-notification",(r={},n="pixmagix-notification__".concat(i),o=i,(n=function(e){var t=function(e){if("object"!=U(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=U(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==U(t)?t:t+""}(n))in r?Object.defineProperty(r,n,{value:o,enumerable:!0,configurable:!0,writable:!0}):r[n]=o,r))},React.createElement("p",null,a)):null};function H(){return H=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},H.apply(null,arguments)}function z(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}const J=function(e){var r,n,o=(r=(0,t.useState)(null),n=2,function(e){if(Array.isArray(e))return e}(r)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,l=[],u=!0,c=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);u=!0);}catch(e){c=!0,o=e}finally{try{if(!u&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(c)throw o}}return l}}(r,n)||function(e,t){if(e){if("string"==typeof e)return z(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?z(e,t):void 0}}(r,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),i=o[0],a=o[1];return React.createElement(s,null,React.createElement(m,null),React.createElement(G,H({},e,{sendNotice:a})),React.createElement($,H({},i,{onExpire:a})))};var Q=function(e){return React.createElement(J,e)},W=function(t){var r=document.getElementById("pixmagix");(0,e.H)(r).render(React.createElement(Q,t))}})(),pixmagixEditor=n})();