/*! For license information please see settings.build.min.js.LICENSE.txt */
var pixmagixEditor;(()=>{var e={184:(e,t)=>{var n;!function(){"use strict";var r={}.hasOwnProperty;function o(){for(var e=[],t=0;t<arguments.length;t++){var n=arguments[t];if(n){var i=typeof n;if("string"===i||"number"===i)e.push(n);else if(Array.isArray(n)){if(n.length){var a=o.apply(null,n);a&&e.push(a)}}else if("object"===i){if(n.toString!==Object.prototype.toString&&!n.toString.toString().includes("[native code]")){e.push(n.toString());continue}for(var c in n)r.call(n,c)&&n[c]&&e.push(c)}}}return e.join(" ")}e.exports?(o.default=o,e.exports=o):void 0===(n=function(){return o}.apply(t,[]))||(e.exports=n)}()},745:(e,t,n)=>{"use strict";var r=n(533);t.s=r.createRoot,r.hydrateRoot},533:e=>{"use strict";e.exports=ReactDOM}},t={};function n(r){var o=t[r];if(void 0!==o)return o.exports;var i=t[r]={exports:{}};return e[r](i,i.exports,n),i.exports}n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var r={};(()=>{"use strict";n.r(r),n.d(r,{Settings:()=>q,hooks:()=>e,initialize:()=>J});var e={};n.r(e),n.d(e,{HOOKS:()=>v,addAction:()=>x,addComponent:()=>O,addFilter:()=>h,applyFilters:()=>d,doAction:()=>_,doComponents:()=>S});var t=n(745);const o=React;function i(e){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(void 0,o=function(e,t){if("object"!==i(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!==i(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(r.key),"symbol"===i(o)?o:String(o)),r)}var o}function c(e,t){return c=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},c(e,t)}function l(e){return l=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},l(e)}const u=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&c(e,t)}(p,e);var t,n,r,o,u,s=(o=p,u=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=l(o);if(u){var n=l(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===i(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,e)});function p(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,p),(e=s.apply(this,arguments)).state={hasError:!1},e}return t=p,r=[{key:"getDerivedStateFromError",value:function(){return{hasError:!0}}}],(n=[{key:"componentDidCatch",value:function(){}},{key:"render",value:function(){return this.state.hasError?React.createElement("div",{className:"pixmagix-error-boundary"}):this.props.children}}])&&a(t.prototype,n),r&&a(t,r),Object.defineProperty(t,"prototype",{writable:!1}),p}(o.Component),s=pixmagixElements,p=wp.i18n,f=wp.apiFetch;var y=n.n(f);const m=function(e){var t=e.settings,n=e.sendNotice;return React.createElement("div",{className:"pixmagix-header"},React.createElement("div",{className:"pixmagix-header__title"},React.createElement("h1",null,(0,p.__)("PixMagix - Settings","pixmagix"))),React.createElement(s.Button,{active:!0,onClick:function(){y()({path:"pixmagix/v1/settings/",method:"POST",data:t}).then((function(e){var t=e.settings_success,r=e.roles_success;console.log(t,r),n(t||r?{type:"success",message:(0,p.__)("Settings Saved Successfully","pixmagix")}:{type:"warning",message:(0,p.__)("No Changes Detected","pixmagix")})})).catch((function(e){var t=e.message;n({type:"error",message:t})}))}},(0,p.__)("Save Settings","pixmagix")))},b=pixmagixGlobals,g=lodash;var v=(0,wp.hooks.createHooks)();function d(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return v.applyFilters.apply(v,[e].concat(n))}function h(e,t,n,r){return v.addFilter(e,t,n,r)}function _(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return v.doAction.apply(v,[e].concat(n))}function x(e,t,n,r){return v.addAction(e,t,n,r)}function S(e,t){return d(e,null,t)}function O(e,t,n,r){return h(e,t,(function(e,t){return n?(0,o.createElement)(n,t):null}),r)}const w=function(e){var t,n=e.default_free_images,r=e.onSettingChange,i=[{label:(0,p.__)("Pixabay","pixmagix"),value:"pixabay"},{label:(0,p.__)("Pexels","pixmagix"),value:"pexels"},{label:(0,p.__)("Unsplash","pixmagix"),value:"unsplash"}],a=(null===(t=(0,g.find)(i,{value:n}))||void 0===t?void 0:t.label)||"",c=!(!n||e["".concat(n,"_api_key")]);return React.createElement(o.Fragment,null,React.createElement(s.Select,{label:(0,p.__)("Default Free Image Source","pixmagix"),options:i,value:n,onChange:function(e){return r("default_free_images",e)}}),React.createElement(s.InlineNotice,{type:"warning",message:(0,p.sprintf)((0,p.__)("You set default free image source to %s, but do not set API key. Please go to API Keys tab, and provide a valid %s API key.","pixmagix"),a,a),show:c}),S("settings.general",e))};var j={};const E=function(){return j[arguments.length>0&&void 0!==arguments[0]?arguments[0]:""]},P=function(e){var t=e.pixabay_api_key,n=e.pexels_api_key,r=e.unsplash_api_key,i=e.gfonts_api_key,a=e.onSettingChange;return React.createElement(o.Fragment,null,React.createElement(s.Input,{label:(0,p.__)("Pixabay API Key","pixmagix"),help:E("pixabayApiKey"),value:t,onChange:function(e){return a("pixabay_api_key",e)}}),React.createElement(s.Input,{label:(0,p.__)("Pexels API Key","pixmagix"),help:E("pexelsApiKey"),value:n,onChange:function(e){return a("pexels_api_key",e)}}),React.createElement(s.Input,{label:(0,p.__)("Unsplash API Key","pixmagix"),help:E("unsplashApiKey"),value:r,onChange:function(e){return a("unsplash_api_key",e)}}),React.createElement(s.Input,{label:(0,p.__)("Google Fonts API Key","pixmagix"),help:E("gfontsApiKey"),value:i,onChange:function(e){return a("gfonts_api_key",e)}}),S("settings.apiKeys",e))};function R(e){return R="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},R(e)}function A(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function C(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?A(Object(n),!0).forEach((function(t){k(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):A(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function k(e,t,n){return(t=function(e){var t=function(e,t){if("object"!==R(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!==R(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===R(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const I=function(e){var t=e.roles,n=void 0===t?[]:t,r=e.onSettingChange;return React.createElement(s.Repeater,{label:(0,p.__)("Manage User Capabilities","pixmagix"),help:E("userCaps"),items:n.map((function(e,t){var o=e.name,i=e.label,a=e.can_edit,c=e.can_edit_others,l=e.can_read_others,u=e.can_upload;return{name:o,label:i,disabled:"administrator"===o,controls:[{name:"can_edit",type:"checkbox",label:(0,p.__)("Enable Users to Access Editor, And Create Projects.","pixmagix"),value:a,onChange:function(e){var o=n.slice();o[t]=C(C({},o[t]),{},{can_edit:e}),r("roles",o)}},{name:"can_read_others",type:"checkbox",label:(0,p.__)("Show All Users' Projects to These Users.","pixmagix"),value:l,show:a,onChange:function(e){var o=n.slice();o[t]=C(C({},o[t]),{},{can_read_others:e}),r("roles",o)}},{name:"can_edit_others",type:"checkbox",label:(0,p.__)("Enable Users to Edit Others' Projects.","pixmagix"),value:c,show:a&&l,onChange:function(e){var o=n.slice();o[t]=C(C({},o[t]),{},{can_edit_others:e}),r("roles",o)}},{name:"can_upload",type:"checkbox",label:(0,p.__)("Enable Users to Upload Files.","pixmagix"),value:u,onChange:function(e){var o=n.slice();o[t]=C(C({},o[t]),{},{can_upload:e}),r("roles",o)}},{name:"upload_notice",type:"notice",msgType:"warning",message:(0,p.__)("Heads up: In case you choose to deactivate file uploading for these users, it will affect the accessibility of some features and users won't be able to save their projects. Enable file upload or disable project creation for users.","pixmagix"),show:a&&!u}]}}))})},T=function(e){var t=e.thumbnail_width,n=e.preview_width,r=e.onSettingChange;return React.createElement(o.Fragment,null,React.createElement(s.Input,{type:"number",label:(0,p.__)("Thumbnails Width","pixmagix"),value:t,onChange:function(e){return r("thumbnail_width",e)},min:100,max:800,step:1}),React.createElement(s.Input,{type:"number",label:(0,p.__)("Previews Width","pixmagix"),value:n,onChange:function(e){return r("preview_width",e)},min:360,max:1920,step:1}))};const D=function(e){var t=d("settings.tabs",[{name:"general",label:(0,p.__)("General Settings","pixmagix"),content:React.createElement(w,e)},{name:"apikeys",label:(0,p.__)("API Keys","pixmagix"),content:React.createElement(P,e)},{name:"users",label:(0,p.__)("Users","pixmagix"),content:React.createElement(I,e)},{name:"performance",label:(0,p.__)("Performance","pixmagix"),content:React.createElement(T,e)}],e);return React.createElement("div",{className:"pixmagix-content"},React.createElement(s.Widget,{tabs:t,initShow:e.tab,onChange:function(e){return t={tab:e.name},n=b.self_url,i=(0,g.omitBy)(t,(function(e,t){return!e||"page"===t})),t.page&&(i.p=t.page),void(null===(r=window.history)||void 0===r||null===(o=r.pushState)||void 0===o||o.call(r,{},"",function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";if(0===t.indexOf("data:"))return t;var n=-1===(null==t?void 0:t.indexOf("?"))?"?":"&";return t+n+(0,g.reduce)(e,(function(e,t,n){return e.push(n+"="+t),e}),[]).join("&")}(i,n)));var t,n,r,o,i}}))};var F=n(184),K=n.n(F);function U(e){return U="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},U(e)}const N=function(e){var t,n,r,i=e.type,a=e.message,c=e.onExpire;return(0,o.useEffect)((function(){a&&setTimeout((function(){c(null)}),4e3)}),[a]),a?React.createElement("div",{className:K()("pixmagix-notification",(t={},n="pixmagix-notification__".concat(i),r=i,(n=function(e){var t=function(e,t){if("object"!==U(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!==U(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===U(t)?t:String(t)}(n))in t?Object.defineProperty(t,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[n]=r,t))},React.createElement("p",null,a)):null};function M(e){return M="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},M(e)}function B(){return B=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},B.apply(this,arguments)}function G(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function H(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?G(Object(n),!0).forEach((function(t){W(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):G(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function W(e,t,n){return(t=function(e){var t=function(e,t){if("object"!==M(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!==M(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===M(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function z(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,c=[],l=!0,u=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=i.call(n)).done)&&(c.push(r.value),c.length!==t);l=!0);}catch(e){u=!0,o=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw o}}return c}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Y(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Y(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Y(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}const $=function(e){var t=z((0,o.useState)(e),2),n=t[0],r=t[1],i=z((0,o.useState)(null),2),a=i[0],c=i[1];return React.createElement(u,null,React.createElement(m,{settings:n,sendNotice:c}),React.createElement(D,B({},n,{onSettingChange:function(e,t){r(H(H({},n),{},W({},e,t)))},sendNotice:c})),React.createElement(N,B({},a,{onExpire:c})))};var q=function(e){return React.createElement($,e)},J=function(e){var n=document.getElementById("pixmagix");(0,t.s)(n).render(React.createElement(q,e))}})(),pixmagixEditor=r})();