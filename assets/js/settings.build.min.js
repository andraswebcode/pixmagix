/*! For license information please see settings.build.min.js.LICENSE.txt */
var pixmagixEditor;(()=>{var e={338:(e,t,n)=>{"use strict";var r=n(206);t.H=r.createRoot,r.hydrateRoot},206:e=>{"use strict";e.exports=ReactDOM},942:(e,t)=>{var n;!function(){"use strict";var r={}.hasOwnProperty;function o(){for(var e="",t=0;t<arguments.length;t++){var n=arguments[t];n&&(e=a(e,i(n)))}return e}function i(e){if("string"==typeof e||"number"==typeof e)return e;if("object"!=typeof e)return"";if(Array.isArray(e))return o.apply(null,e);if(e.toString!==Object.prototype.toString&&!e.toString.toString().includes("[native code]"))return e.toString();var t="";for(var n in e)r.call(e,n)&&e[n]&&(t=a(t,n));return t}function a(e,t){return t?e?e+" "+t:e+t:e}e.exports?(o.default=o,e.exports=o):void 0===(n=function(){return o}.apply(t,[]))||(e.exports=n)}()}},t={};function n(r){var o=t[r];if(void 0!==o)return o.exports;var i=t[r]={exports:{}};return e[r](i,i.exports,n),i.exports}n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var r={};(()=>{"use strict";n.r(r),n.d(r,{Settings:()=>Q,hooks:()=>e,initialize:()=>V});var e={};n.r(e),n.d(e,{HOOKS:()=>G,addAction:()=>q,addComponent:()=>L,addFilter:()=>z,applyFilters:()=>W,doAction:()=>$,doComponents:()=>J});var t=n(338);const o=React;function i(e){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,c(r.key),r)}}function c(e){var t=function(e){if("object"!=i(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=i(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==i(t)?t:t+""}function u(e,t,n){return t=s(t),function(e,t){if(t&&("object"==i(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,l()?Reflect.construct(t,n||[],s(e).constructor):t.apply(e,n))}function l(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(l=function(){return!!e})()}function s(e){return s=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},s(e)}function p(e,t){return p=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},p(e,t)}const f=function(e){function t(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(e=u(this,t,arguments)).state={hasError:!1},e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&p(e,t)}(t,e),n=t,o=[{key:"getDerivedStateFromError",value:function(){return{hasError:!0}}}],(r=[{key:"componentDidCatch",value:function(){}},{key:"render",value:function(){return this.state.hasError?React.createElement("div",{className:"pixmagix-error-boundary"}):this.props.children}}])&&a(n.prototype,r),o&&a(n,o),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r,o}(o.Component),y=pixmagixElements,m=wp.i18n,b=wp.apiFetch;var v=n.n(b);const g=function(e){var t=e.settings,n=e.sendNotice;return React.createElement("div",{className:"pixmagix-header"},React.createElement("div",{className:"pixmagix-header__title"},React.createElement("h1",null,(0,m.__)("PixMagix - Settings","pixmagix"))),React.createElement(y.Button,{active:!0,onClick:function(){v()({path:"pixmagix/v1/settings/",method:"POST",data:t}).then((function(e){var t=e.settings_success,r=e.roles_success;n(t||r?{type:"success",message:(0,m.__)("Settings Saved Successfully","pixmagix")}:{type:"warning",message:(0,m.__)("No Changes Detected","pixmagix")})})).catch((function(e){var t=e.message;n({type:"error",message:t})}))}},(0,m.__)("Save Settings","pixmagix")))},d=pixmagixGlobals,h=function(e){var t=e.thumbnail_width,n=e.preview_width,r=e.onSettingChange;return React.createElement(o.Fragment,null,React.createElement(y.Input,{type:"number",label:(0,m.__)("Thumbnails Width","pixmagix"),value:t,onChange:function(e){return r("thumbnail_width",e)},min:100,max:800,step:1}),React.createElement(y.Input,{type:"number",label:(0,m.__)("Previews Width","pixmagix"),value:n,onChange:function(e){return r("preview_width",e)},min:360,max:1920,step:1}))};var _={};const x=function(){return _[arguments.length>0&&void 0!==arguments[0]?arguments[0]:""]},O=function(e){var t=e.pixabay_api_key,n=e.pexels_api_key,r=e.unsplash_api_key,i=e.gfonts_api_key,a=e.openai_api_key,c=e.stabilityai_api_key,u=e.clipdrop_api_key,l=e.onSettingChange;return React.createElement(o.Fragment,null,React.createElement(y.Input,{label:(0,m.__)("Pixabay API Key","pixmagix"),help:x("pixabayApiKey"),value:t,onChange:function(e){return l("pixabay_api_key",e)}}),React.createElement(y.Input,{label:(0,m.__)("Pexels API Key","pixmagix"),help:x("pexelsApiKey"),value:n,onChange:function(e){return l("pexels_api_key",e)}}),React.createElement(y.Input,{label:(0,m.__)("Unsplash API Key","pixmagix"),help:x("unsplashApiKey"),value:r,onChange:function(e){return l("unsplash_api_key",e)}}),React.createElement(y.Input,{label:(0,m.__)("Google Fonts API Key","pixmagix"),help:x("gfontsApiKey"),value:i,onChange:function(e){return l("gfonts_api_key",e)}}),React.createElement(y.Input,{label:(0,m.__)("OpenAI API Key","pixmagix"),value:a,onChange:function(e){return l("openai_api_key",e)}}),React.createElement(y.Input,{label:(0,m.__)("Stability AI API Key","pixmagix"),value:c,onChange:function(e){return l("stabilityai_api_key",e)}}),React.createElement(y.Input,{label:(0,m.__)("Clipdrop API Key","pixmagix"),value:u,onChange:function(e){return l("clipdrop_api_key",e)}}))};function S(e){return S="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},S(e)}function w(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function j(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?w(Object(n),!0).forEach((function(t){E(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):w(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function E(e,t,n){return(t=function(e){var t=function(e){if("object"!=S(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=S(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==S(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const P=function(e){var t=e.roles,n=void 0===t?[]:t,r=e.onSettingChange;return React.createElement(y.Repeater,{label:(0,m.__)("Manage User Capabilities","pixmagix"),help:x("userCaps"),items:n.map((function(e,t){var o=e.name,i=e.label,a=e.can_edit,c=e.can_edit_others,u=e.can_read_others,l=e.can_upload;return{name:o,label:i,disabled:"administrator"===o,controls:[{name:"can_edit",type:"checkbox",label:(0,m.__)("Enable Users to Access Editor, And Create Projects.","pixmagix"),value:a,onChange:function(e){var o=n.slice();o[t]=j(j({},o[t]),{},{can_edit:e}),r("roles",o)}},{name:"can_read_others",type:"checkbox",label:(0,m.__)("Show All Users' Projects to These Users.","pixmagix"),value:u,show:a,onChange:function(e){var o=n.slice();o[t]=j(j({},o[t]),{},{can_read_others:e}),r("roles",o)}},{name:"can_edit_others",type:"checkbox",label:(0,m.__)("Enable Users to Edit Others' Projects.","pixmagix"),value:c,show:a&&u,onChange:function(e){var o=n.slice();o[t]=j(j({},o[t]),{},{can_edit_others:e}),r("roles",o)}},{name:"can_upload",type:"checkbox",label:(0,m.__)("Enable Users to Upload Files.","pixmagix"),value:l,onChange:function(e){var o=n.slice();o[t]=j(j({},o[t]),{},{can_upload:e}),r("roles",o)}},{name:"upload_notice",type:"notice",msgType:"warning",message:(0,m.__)("Heads up: In case you choose to deactivate file uploading for these users, it will affect the accessibility of some features and users won't be able to save their projects. Enable file upload or disable project creation for users.","pixmagix"),show:a&&!l}]}}))})},R=lodash;const A=function(e){var t=[{name:"general",label:(0,m.__)("General Settings","pixmagix"),content:React.createElement(h,e)},{name:"apikeys",label:(0,m.__)("API Keys","pixmagix"),content:React.createElement(O,e)},{name:"users",label:(0,m.__)("Users","pixmagix"),content:React.createElement(P,e)}];return React.createElement("div",{className:"pixmagix-content"},React.createElement(y.Widget,{tabs:t,initShow:e.tab,onChange:function(e){return t={tab:e.name},n=d.self_url,i=(0,R.omitBy)(t,(function(e,t){return!e||"page"===t})),t.page&&(i.p=t.page),void(null===(r=window.history)||void 0===r||null===(o=r.pushState)||void 0===o||o.call(r,{},"",function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";if(0===t.indexOf("data:"))return t;var n=-1===(null==t?void 0:t.indexOf("?"))?"?":"&";return t+n+(0,R.reduce)(e,(function(e,t,n){return e.push(n+"="+t),e}),[]).join("&")}(i,n)));var t,n,r,o,i}}))};var C=n(942),k=n.n(C);function I(e){return I="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},I(e)}const T=function(e){var t,n,r,i=e.type,a=e.message,c=e.onExpire;return(0,o.useEffect)((function(){a&&setTimeout((function(){c(null)}),4e3)}),[a]),a?React.createElement("div",{className:k()("pixmagix-notification",(t={},n="pixmagix-notification__".concat(i),r=i,(n=function(e){var t=function(e){if("object"!=I(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=I(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==I(t)?t:t+""}(n))in t?Object.defineProperty(t,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[n]=r,t))},React.createElement("p",null,a)):null};function D(e){return D="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},D(e)}function K(){return K=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},K.apply(null,arguments)}function F(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function U(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?F(Object(n),!0).forEach((function(t){N(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):F(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function N(e,t,n){return(t=function(e){var t=function(e){if("object"!=D(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=D(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==D(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function M(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,c=[],u=!0,l=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=i.call(n)).done)&&(c.push(r.value),c.length!==t);u=!0);}catch(e){l=!0,o=e}finally{try{if(!u&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw o}}return c}}(e,t)||function(e,t){if(e){if("string"==typeof e)return B(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?B(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function B(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}const H=function(e){var t=M((0,o.useState)(e),2),n=t[0],r=t[1],i=M((0,o.useState)(null),2),a=i[0],c=i[1];return React.createElement(f,null,React.createElement(g,{settings:n,sendNotice:c}),React.createElement(A,K({},n,{onSettingChange:function(e,t){r(U(U({},n),{},N({},e,t)))},sendNotice:c})),React.createElement(T,K({},a,{onExpire:c})))};var G=(0,wp.hooks.createHooks)();function W(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return G.applyFilters.apply(G,[e].concat(n))}function z(e,t,n,r){return G.addFilter(e,t,n,r)}function $(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return G.doAction.apply(G,[e].concat(n))}function q(e,t,n,r){return G.addAction(e,t,n,r)}function J(e,t){return W(e,null,t)}function L(e,t,n,r){return z(e,t,(function(e,t){return n?(0,o.createElement)(n,t):null}),r)}var Q=function(e){return React.createElement(H,e)},V=function(e){var n=document.getElementById("pixmagix");(0,t.H)(n).render(React.createElement(Q,e))}})(),pixmagixEditor=r})();