var pixmagixEditor;(()=>{"use strict";var e={745:(e,t,a)=>{var n=a(533);t.s=n.createRoot,n.hydrateRoot},533:e=>{e.exports=ReactDOM}},t={};function a(n){var i=t[n];if(void 0!==i)return i.exports;var r=t[n]={exports:{}};return e[n](r,r.exports,a),r.exports}a.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return a.d(t,{a:t}),t},a.d=(e,t)=>{for(var n in t)a.o(t,n)&&!a.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},a.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),a.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var n={};(()=>{a.r(n),a.d(n,{FreeImages:()=>V,initialize:()=>H});var e=a(745);const t=React;function i(e){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}function r(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,(void 0,r=function(e,t){if("object"!==i(e)||null===e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var n=a.call(e,"string");if("object"!==i(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(n.key),"symbol"===i(r)?r:String(r)),n)}var r}function o(e,t){return o=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},o(e,t)}function l(e){return l=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},l(e)}const c=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&o(e,t)}(p,e);var t,a,n,c,u,s=(c=p,u=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=l(c);if(u){var a=l(this).constructor;e=Reflect.construct(t,arguments,a)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===i(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,e)});function p(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,p),(e=s.apply(this,arguments)).state={hasError:!1},e}return t=p,n=[{key:"getDerivedStateFromError",value:function(){return{hasError:!0}}}],(a=[{key:"componentDidCatch",value:function(){}},{key:"render",value:function(){return this.state.hasError?React.createElement("div",{className:"pixmagix-error-boundary"}):this.props.children}}])&&r(t.prototype,a),n&&r(t,n),Object.defineProperty(t,"prototype",{writable:!1}),p}(t.Component),u=wp.i18n,s=function(){return React.createElement("div",{className:"pixmagix-header"},React.createElement("div",{className:"pixmagix-header__title"},React.createElement("h1",null,(0,u.__)("PixMagix - Royalty Free Images","pixmagix"))))},p=pixmagixElements,m=pixmagixGlobals,g=lodash,x=wp.apiFetch;var f=a.n(x),h="pixmagix/v1/",d={ecl:{text:(0,u.__)("Error correction level (ECL) refers to the ability of a QR code to withstand damage caused by scratches, stains, or other distortions. When creating a QR code, it is essential to choose an appropriate error correction level to ensure that the code remains scannable even under less-than-ideal conditions.","pixmagix"),link:"https://pixmagix-photo-editor.com/miscellaneous/understanding-error-correction-level-in-qr-codes/"},blendingMode:{text:(0,u.__)("Blending modes are essentially filters that can be applied to layers in your design project. They let you control how one layer interacts with another, by altering the way the colors blend together.","pixmagix"),link:"https://pixmagix-photo-editor.com/graphic-design/understanding-blending-modes-in-graphic-design/"},par:{text:(0,u.__)("The preserveAspectRatio attribute is used to control how an SVG element is scaled and positioned within its container. It allows you to define the aspect ratio, define alignment, and specify how to handle overflowing content.","pixmagix"),link:"https://pixmagix-photo-editor.com/graphic-design/understanding-the-preserveaspectratio-svg-attribute/"},strokeWidth:{text:(0,u.__)("Stroke width is the thickness of a line used in creating graphical elements, shapes, or text. It is typically measured in points or pixels and greatly influences the visual perception of design elements.","pixmagix"),link:"https://pixmagix-photo-editor.com/graphic-design/the-importance-of-stroke-width-in-design/"},sda:{text:(0,u.__)("The stroke-dasharray is primarily used to create dashed lines, dotted lines, or more complex patterns. It controls the pattern of dashes and gaps used to paint the outline of shapes.","pixmagix"),link:"https://pixmagix-photo-editor.com/graphic-design/understanding-the-stroke-dasharray-a-detailed-overview/"},jpgQuality:{text:(0,u.__)("JPEG is a widely used image format that utilizes lossy compression. This means that when an image is saved in JPEG format, some of the image data is permanently discarded to reduce file size. The JPEG quality setting determines the degree of compression applied to an image.","pixmagix"),link:"https://pixmagix-photo-editor.com/miscellaneous/the-impact-of-jpeg-quality-on-web-performance/"},fontFamily:{text:(0,u.__)("","pixmagix"),link:""},lineHeight:{text:(0,u.__)("Line height refers to the vertical space between lines of text. It plays a crucial role in determining the overall legibility and readability of a piece of content.","pixmagix"),link:"https://pixmagix-photo-editor.com/miscellaneous/understanding-line-height-in-typography/"},pixabayApiKey:{text:(0,u.__)("","pixmagix"),link:"https://pixmagix-photo-editor.com/tutorials/how-to-get-and-connect-pixabay-api-key-to-pixmagix/"},pexelsApiKey:{text:(0,u.__)("","pixmagix"),link:""},unsplashApiKey:{text:(0,u.__)("","pixmagix"),link:""},gfontsApiKey:{text:(0,u.__)("By default, you can access the first 200 most popular fonts from Google Fonts. But what if you want more variety? By obtaining a Google Fonts API key, you can gain real-time access to all available font families, enhancing your design choices even further.","pixmagix"),link:"https://pixmagix-photo-editor.com/tutorials/how-to-get-and-connect-google-fonts-api-key-to-pixmagix/"},webSafeFonts:{text:(0,u.__)("","pixmagix"),link:""},userCaps:{text:(0,u.__)("","pixmagix"),link:""}};const v=function(){return d[arguments.length>0&&void 0!==arguments[0]?arguments[0]:""]};function b(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,n=new Array(t);a<t;a++)n[a]=e[a];return n}const _=function(e){var a,n,i=e.service,r=e.onReady,o=(a=(0,t.useState)(""),n=2,function(e){if(Array.isArray(e))return e}(a)||function(e,t){var a=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=a){var n,i,r,o,l=[],c=!0,u=!1;try{if(r=(a=a.call(e)).next,0===t){if(Object(a)!==a)return;c=!1}else for(;!(c=(n=r.call(a)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(e){u=!0,i=e}finally{try{if(!c&&null!=a.return&&(o=a.return(),Object(o)!==o))return}finally{if(u)throw i}}return l}}(a,n)||function(e,t){if(e){if("string"==typeof e)return b(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);return"Object"===a&&e.constructor&&(a=e.constructor.name),"Map"===a||"Set"===a?Array.from(e):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?b(e,t):void 0}}(a,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),l=o[0],c=o[1];return React.createElement(p.InlineControls,null,React.createElement(p.Input,{label:(0,u.__)("API Key","pixmagix"),help:v(i+"ApiKey"),value:l,onChange:c}),React.createElement(p.Button,{small:!0,active:!!l,disabled:!l,onClick:function(){if(i){var e={};e[i+"_api_key"]=l,f()({path:h+"settings/",method:"POST",data:e}).then((function(e){console.log(e),null==r||r()})).catch((function(e){console.error(e)}))}}},(0,u.__)("Continue","pixmagix")))};var y=[{label:(0,u.__)("Any Type","pixmagix"),value:""},{label:(0,u.__)("Photo","pixmagix"),value:"photo"},{label:(0,u.__)("Illustration","pixmagix"),value:"illustration"},{label:(0,u.__)("Vector","pixmagix"),value:"vector"}],E=[{label:(0,u.__)("Any Orientation","pixmagix"),value:""},{label:(0,u.__)("Horizontal","pixmagix"),value:"horizontal"},{label:(0,u.__)("Vertical","pixmagix"),value:"vertical"}],w=[{label:(0,u.__)("All Categories","pixmagix"),value:""},{label:(0,u.__)("Backgrounds","pixmagix"),value:"backgrounds"},{label:(0,u.__)("Fashion","pixmagix"),value:"fashion"},{label:(0,u.__)("Nature","pixmagix"),value:"nature"},{label:(0,u.__)("Science","pixmagix"),value:"science"},{label:(0,u.__)("Education","pixmagix"),value:"education"},{label:(0,u.__)("Feelings","pixmagix"),value:"feelings"},{label:(0,u.__)("Health","pixmagix"),value:"health"},{label:(0,u.__)("People","pixmagix"),value:"people"},{label:(0,u.__)("Religion","pixmagix"),value:"religion"},{label:(0,u.__)("Places","pixmagix"),value:"places"},{label:(0,u.__)("Animals","pixmagix"),value:"animals"},{label:(0,u.__)("Industry","pixmagix"),value:"industry"},{label:(0,u.__)("Computer","pixmagix"),value:"computer"},{label:(0,u.__)("Food","pixmagix"),value:"food"},{label:(0,u.__)("Sports","pixmagix"),value:"sports"},{label:(0,u.__)("Transportation","pixmagix"),value:"transportation"},{label:(0,u.__)("Travel","pixmagix"),value:"travel"},{label:(0,u.__)("Buildings","pixmagix"),value:"buildings"},{label:(0,u.__)("Business","pixmagix"),value:"business"},{label:(0,u.__)("Music","pixmagix"),value:"music"}],R=[{label:(0,u.__)("Red","pixmagix"),value:"red"},{label:(0,u.__)("Orange","pixmagix"),value:"orange"},{label:(0,u.__)("Yellow","pixmagix"),value:"yellow"},{label:(0,u.__)("Green","pixmagix"),value:"green"},{label:(0,u.__)("Turquoise","pixmagix"),value:"turquoise"},{label:(0,u.__)("Blue","pixmagix"),value:"blue"},{label:(0,u.__)("Lilac","pixmagix"),value:"lilac"},{label:(0,u.__)("Pink","pixmagix"),value:"pink"},{label:(0,u.__)("White","pixmagix"),value:"white"},{label:(0,u.__)("Gray","pixmagix"),value:"gray"},{label:(0,u.__)("Black","pixmagix"),value:"black"},{label:(0,u.__)("Brown","pixmagix"),value:"brown"}];const S=function(e){var t=e.hasKey,a=e.search,n=e.type,i=e.orientation,r=e.category,o=e.color,l=e.onChange,c=e.onContinue;return t?React.createElement(p.InlineControls,{logo:{title:(0,u.__)("Powered by Pixabay","pixmagix"),url:"https://pixabay.com/",src:m.images_folder+"pixabay.jpg"}},React.createElement(p.Input,{label:(0,u.__)("Search","pixmagix"),value:a,onChange:function(e){return l("search",e)}}),React.createElement(p.Select,{label:(0,u.__)("Type","pixmagix"),options:y,value:n,onChange:function(e){return l("type",e)}}),React.createElement(p.Select,{label:(0,u.__)("Orientation","pixmagix"),options:E,value:i,onChange:function(e){return l("orientation",e)}}),React.createElement(p.Select,{label:(0,u.__)("Category","pixmagix"),options:w,value:r,onChange:function(e){return l("category",e)}}),React.createElement(p.ColorPalette.Dropdown,{label:(0,u.__)("Color","pixmagix"),options:R,color:o,onChange:function(e){return l("color",e)}})):React.createElement(_,{service:"pixabay",onReady:c})};var O=[{label:(0,u.__)("Any Orientation","pixmagix"),value:""},{label:(0,u.__)("Landscape","pixmagix"),value:"landscape"},{label:(0,u.__)("Portrait","pixmagix"),value:"portrait"},{label:(0,u.__)("Square","pixmagix"),value:"square"}],C=[{label:(0,u.__)("Red","pixmagix"),value:"red"},{label:(0,u.__)("Orange","pixmagix"),value:"orange"},{label:(0,u.__)("Yellow","pixmagix"),value:"yellow"},{label:(0,u.__)("Green","pixmagix"),value:"green"},{label:(0,u.__)("Turquoise","pixmagix"),value:"turquoise"},{label:(0,u.__)("Blue","pixmagix"),value:"blue"},{label:(0,u.__)("Violet","pixmagix"),value:"violet"},{label:(0,u.__)("Pink","pixmagix"),value:"pink"},{label:(0,u.__)("Brown","pixmagix"),value:"brown"},{label:(0,u.__)("Black","pixmagix"),value:"black"},{label:(0,u.__)("Gray","pixmagix"),value:"gray"},{label:(0,u.__)("White","pixmagix"),value:"white"}];const P=function(e){var a=e.hasKey,n=e.search,i=e.orientation,r=e.color,o=e.onChange,l=e.onContinue;return a?React.createElement(p.InlineControls,{logo:{title:(0,u.__)("Powered by Pexels","pixmagix"),url:"https://pexels.com/",src:m.images_folder+"pexels.jpg"}},React.createElement(p.Input,{label:(0,u.__)("Search","pixmagix"),value:n,onChange:function(e){return o("search",e)}}),!!n&&React.createElement(t.Fragment,null,React.createElement(p.Select,{label:(0,u.__)("Orientation","pixmagix"),options:O,value:i,onChange:function(e){return o("orientation",e)}}),React.createElement(p.ColorPalette.Dropdown,{label:(0,u.__)("Color","pixmagix"),options:C,color:r,onChange:function(e){return o("color",e)}}))):React.createElement(_,{service:"pexels",onReady:l})};var j=[{label:(0,u.__)("Any Orientation","pixmagix"),value:""},{label:(0,u.__)("Landscape","pixmagix"),value:"landscape"},{label:(0,u.__)("Portrait","pixmagix"),value:"portrait"},{label:(0,u.__)("Squarish","pixmagix"),value:"squarish"}],k=[{label:(0,u.__)("Black","pixmagix"),value:"black"},{label:(0,u.__)("White","pixmagix"),value:"white"},{label:(0,u.__)("Yellow","pixmagix"),value:"yellow"},{label:(0,u.__)("Orange","pixmagix"),value:"orange"},{label:(0,u.__)("Red","pixmagix"),value:"red"},{label:(0,u.__)("Purple","pixmagix"),value:"purple"},{label:(0,u.__)("Magenta","pixmagix"),value:"magenta"},{label:(0,u.__)("Green","pixmagix"),value:"green"},{label:(0,u.__)("Teal","pixmagix"),value:"teal"},{label:(0,u.__)("And blue","pixmagix"),value:"blue"}];const I=function(e){var a=e.hasKey,n=e.search,i=e.orientation,r=e.color,o=e.onChange,l=e.onContinue;return a?React.createElement(p.InlineControls,{logo:{title:(0,u.__)("Powered by Unsplash","pixmagix"),url:"https://unsplash.com/",src:m.images_folder+"unsplash.jpg"}},React.createElement(p.Input,{label:(0,u.__)("Search","pixmagix"),value:n,onChange:function(e){return o("search",e)}}),!!n&&React.createElement(t.Fragment,null,React.createElement(p.Select,{label:(0,u.__)("Orientation","pixmagix"),options:j,value:i,onChange:function(e){return o("orientation",e)}}),React.createElement(p.ColorPalette.Dropdown,{label:(0,u.__)("Color","pixmagix"),options:k,color:r,onChange:function(e){return o("color",e)}}))):React.createElement(_,{service:"unsplash",onReady:l})};function A(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";if(0===t.indexOf("data:"))return t;var a=-1===(null==t?void 0:t.indexOf("?"))?"?":"&";return t+a+(0,g.reduce)(e,(function(e,t,a){return e.push(a+"="+t),e}),[]).join("&")}function T(e,t){var a,n,i=(0,g.omitBy)(e,(function(e,t){return!e||"page"===t}));e.page&&(i.p=e.page),null===(a=window.history)||void 0===a||null===(n=a.pushState)||void 0===n||n.call(a,{},"",A(i,t))}function B(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var a=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=a){var n,i,r,o,l=[],c=!0,u=!1;try{if(r=(a=a.call(e)).next,0===t){if(Object(a)!==a)return;c=!1}else for(;!(c=(n=r.call(a)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(e){u=!0,i=e}finally{try{if(!c&&null!=a.return&&(o=a.return(),Object(o)!==o))return}finally{if(u)throw i}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return K(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);return"Object"===a&&e.constructor&&(a=e.constructor.name),"Map"===a||"Set"===a?Array.from(e):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?K(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function K(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,n=new Array(t);a<t;a++)n[a]=e[a];return n}const G=function(e){var a,n=e.author,i=e.title,r=void 0===i?"":i,o=e.preview,l=e.sizes,c=void 0===l?[]:l,s=e.canEdit,g=e.hasPrev,x=e.hasNext,d=e.onNavigate,v=e.onClose,b=B((0,t.useState)(""),2),_=b[0],y=b[1],E=B((0,t.useState)(""),2),w=E[0],R=E[1],S=B((0,t.useState)(""),2),O=S[0],C=S[1],P=B((0,t.useState)(""),2),j=P[0],k=P[1],I=B((0,t.useState)(""),2),T=I[0],K=I[1],G=B((0,t.useState)(""),2),F=G[0],M=G[1],D=B((0,t.useState)(!1),2),q=D[0],z=D[1],N=function(e){var t,a={src:null===(t=_||o)||void 0===t?void 0:t.replace(/&#038;/g,"&"),filename:w||r.replace(/\s/g,"-").replace(/[^A-z\-]/g,""),title:O,alt:j,caption:T,description:F};z(!0),f()({path:h+"free_images/",method:"POST",data:a}).then((function(t){console.log(t),e?window.location.replace(A({image:t.mediaId},m.new_url)):z(!1)})).catch((function(e){console.error(e)}))};return React.createElement(p.Modal,{title:(0,u.sprintf)((0,u.__)("%s by %s","pixmagix"),r,n),actions:s?React.createElement(p.ButtonGroup,null,React.createElement(p.Button,{active:!0,onClick:function(){return N(!0)}},(0,u.__)("Save And Edit","pixmagix")),React.createElement(p.Button,{onClick:function(){return N()}},(0,u.__)("Just Save","pixmagix"))):React.createElement(p.Button,{onClick:function(){return N()}},(0,u.__)("Save","pixmagix")),navigation:{prev:{disabled:!g,onClick:function(){return d("prev")}},next:{disabled:!x,onClick:function(){return d("next")}}},onClose:v},React.createElement(p.Row,null,React.createElement(p.Column,null,React.createElement("figure",null,React.createElement("img",{src:null===(a=_||o)||void 0===a?void 0:a.replace(/&#038;/g,"&")}))),React.createElement(p.Column,null,React.createElement(p.Widget,null,React.createElement(p.Input,{label:(0,u.__)("File Name","pixmagix"),placeholder:r.replace(/\s/g,"-").replace(/[^A-z\-]/g,""),value:w,onChange:R}),React.createElement(p.Select,{label:(0,u.__)("Image Size","pixmagix"),options:c,value:_,onChange:y}),React.createElement(p.Input,{label:(0,u.__)("Title","pixmagix"),value:O,onChange:C}),React.createElement(p.Textarea,{label:(0,u.__)("Alternative Text","pixmagix"),value:j,onChange:k}),React.createElement(p.Textarea,{label:(0,u.__)("Caption","pixmagix"),value:T,onChange:K}),React.createElement(p.Textarea,{label:(0,u.__)("Description","pixmagix"),value:F,onChange:M})))),React.createElement(p.Loader,{show:q}))};function F(e){return F="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},F(e)}var M=["hasPixabayKey","hasPexelsKey","hasUnsplashKey","items","maxPages","canEdit"];function D(){return D=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},D.apply(this,arguments)}function q(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function z(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?q(Object(a),!0).forEach((function(t){N(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):q(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function N(e,t,a){return(t=function(e){var t=function(e,t){if("object"!==F(e)||null===e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var n=a.call(e,"string");if("object"!==F(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===F(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function L(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var a=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=a){var n,i,r,o,l=[],c=!0,u=!1;try{if(r=(a=a.call(e)).next,0===t){if(Object(a)!==a)return;c=!1}else for(;!(c=(n=r.call(a)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(e){u=!0,i=e}finally{try{if(!c&&null!=a.return&&(o=a.return(),Object(o)!==o))return}finally{if(u)throw i}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return U(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);return"Object"===a&&e.constructor&&(a=e.constructor.name),"Map"===a||"Set"===a?Array.from(e):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?U(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function U(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,n=new Array(t);a<t;a++)n[a]=e[a];return n}const W=function(e){var a=e.hasPixabayKey,n=e.hasPexelsKey,i=e.hasUnsplashKey,r=e.items,o=void 0===r?[]:r,l=e.maxPages,c=e.canEdit,s=function(e,t){if(null==e)return{};var a,n,i=function(e,t){if(null==e)return{};var a,n,i={},r=Object.keys(e);for(n=0;n<r.length;n++)a=r[n],t.indexOf(a)>=0||(i[a]=e[a]);return i}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(n=0;n<r.length;n++)a=r[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(i[a]=e[a])}return i}(e,M),x=(0,t.useRef)(!1),d=L((0,t.useState)(a),2),v=d[0],b=d[1],_=L((0,t.useState)(n),2),y=_[0],E=_[1],w=L((0,t.useState)(i),2),R=w[0],O=w[1],C=L((0,t.useState)(s),2),j=C[0],k=C[1],B=L((0,t.useState)(o),2),K=B[0],F=B[1],q=L((0,t.useState)(l),2),U=q[0],W=q[1],J=L((0,t.useState)(null),2),V=J[0],H=J[1],Q=L((0,t.useState)(!1),2),Y=Q[0],$=Q[1],X=(0,t.useMemo)((function(){return"pixabay"===j.service?!v:"pexels"===j.service?!y:"unsplash"===j.service&&!R}),[j,v,y,R]),Z=(0,t.useMemo)((function(){return(0,g.findIndex)(K,V)}),[K,V]),ee=function(e,t){$(!0);var a=t?z(z({},j),{},N({},e,t)):(0,g.omit)(j,e);"page"!==e&&(a.page=1),k(a)};return(0,t.useEffect)((function(){x.current?f()({path:A(j,h+"free_images/")}).then((function(e){console.log(e),F(e.items),W(e.maxPages),$(!1),T(j,m.self_url)})).catch((function(e){console.error(e),"authorization_failed"===e.code&&(F([]),W(0),$(!1),T(j,m.self_url))})):x.current=!0}),[j,v,y,R]),React.createElement("div",{className:"pixmagix-content"},React.createElement(p.Widget,{tabs:[{name:"pixabay",label:(0,u.__)("Pixabay","pixmagix"),content:React.createElement(S,D({},j,{hasKey:v,onChange:ee,onContinue:function(){$(!0),b(!0)}}))},{name:"pexels",label:(0,u.__)("Pexels","pixmagix"),content:React.createElement(P,D({},j,{hasKey:y,onChange:ee,onContinue:function(){$(!0),E(!0)}}))},{name:"unsplash",label:(0,u.__)("Unsplash","pixmagix"),content:React.createElement(I,D({},j,{hasKey:R,onChange:ee,onContinue:function(){$(!0),O(!0)}}))}],initShow:j.service,onChange:function(e){var t=e.name;return ee("service",t)}}),React.createElement(p.Pagination,{page:j.page,maxPages:U,onChange:function(e){return ee("page",e)}}),React.createElement(p.Grid,null,X?React.createElement(p.GridItem,{isEmpty:!0,caption:(0,u.sprintf)((0,u.__)('To access free images from %s, please enter a valid API key in the input field above and click the "Continue" button.',"pixmagix"),(0,g.capitalize)(j.service))}):K.length?K.map((function(e){var t;return React.createElement(p.GridItem,{key:e.id,caption:e.title,src:null===(t=e.thumbnail)||void 0===t?void 0:t.replace(/&#038;/g,"&"),onClick:function(t){t.preventDefault(),H(e)}})})):React.createElement(p.GridItem,{isEmpty:!0,caption:(0,u.__)("No Items Found","pixmagix")})),React.createElement(p.Pagination,{page:j.page,maxPages:U,onChange:function(e){return ee("page",e)}}),!!V&&React.createElement(G,D({key:V.id},V,{canEdit:c,hasPrev:Z>0,hasNext:Z<o.length-1,onNavigate:function(e){var t=function(){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,a=parseFloat(arguments.length>0&&void 0!==arguments[0]?arguments[0]:0)||0;return Math.min(Math.max(a,e),t)}("prev"===e?Z-1:Z+1,0,K.length-1);H(K[t])},onClose:function(){return H(null)}})),React.createElement(p.Loader,{show:Y}))},J=function(e){return React.createElement(c,null,React.createElement(s,null),React.createElement(W,e))};var V=function(e){return React.createElement(J,e)},H=function(t){var a=document.getElementById("pixmagix");(0,e.s)(a).render(React.createElement(V,t))}})(),pixmagixEditor=n})();