/*! For license information please see free-images.build.min.js.LICENSE.txt */
var pixmagixEditor;(()=>{var e={338:(e,t,n)=>{"use strict";var a=n(206);t.H=a.createRoot,a.hydrateRoot},206:e=>{"use strict";e.exports=ReactDOM},942:(e,t)=>{var n;!function(){"use strict";var a={}.hasOwnProperty;function r(){for(var e="",t=0;t<arguments.length;t++){var n=arguments[t];n&&(e=l(e,i(n)))}return e}function i(e){if("string"==typeof e||"number"==typeof e)return e;if("object"!=typeof e)return"";if(Array.isArray(e))return r.apply(null,e);if(e.toString!==Object.prototype.toString&&!e.toString.toString().includes("[native code]"))return e.toString();var t="";for(var n in e)a.call(e,n)&&e[n]&&(t=l(t,n));return t}function l(e,t){return t?e?e+" "+t:e+t:e}e.exports?(r.default=r,e.exports=r):void 0===(n=function(){return r}.apply(t,[]))||(e.exports=n)}()}},t={};function n(a){var r=t[a];if(void 0!==r)return r.exports;var i=t[a]={exports:{}};return e[a](i,i.exports,n),i.exports}n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var a in t)n.o(t,a)&&!n.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:t[a]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var a={};(()=>{"use strict";n.r(a),n.d(a,{FreeImages:()=>ne,initialize:()=>ae});var e=n(338);const t=React;function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}function i(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,l(a.key),a)}}function l(e){var t=function(e){if("object"!=r(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=r(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==r(t)?t:t+""}function o(e,t,n){return t=c(t),function(e,t){if(t&&("object"==r(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,u()?Reflect.construct(t,n||[],c(e).constructor):t.apply(e,n))}function u(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(u=function(){return!!e})()}function c(e){return c=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},c(e)}function p(e,t){return p=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},p(e,t)}const s=function(e){function t(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(e=o(this,t,arguments)).state={hasError:!1},e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&p(e,t)}(t,e),n=t,r=[{key:"getDerivedStateFromError",value:function(){return{hasError:!0}}}],(a=[{key:"componentDidCatch",value:function(){}},{key:"render",value:function(){return this.state.hasError?React.createElement("div",{className:"pixmagix-error-boundary"}):this.props.children}}])&&i(n.prototype,a),r&&i(n,r),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,a,r}(t.Component),m=wp.i18n,f=function(){return React.createElement("div",{className:"pixmagix-header"},React.createElement("div",{className:"pixmagix-header__title"},React.createElement("h1",null,(0,m.__)("PixMagix - Royalty Free Images","pixmagix"))))},g=pixmagixElements,x=pixmagixGlobals,v=lodash,b=wp.apiFetch;var y=n.n(b),_="pixmagix/v1/",d={};const h=function(){return d[arguments.length>0&&void 0!==arguments[0]?arguments[0]:""]};function E(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=Array(t);n<t;n++)a[n]=e[n];return a}const S=function(e){var n,a,r=e.platform,i=e.onReady,l=(n=(0,t.useState)(""),a=2,function(e){if(Array.isArray(e))return e}(n)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var a,r,i,l,o=[],u=!0,c=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;u=!1}else for(;!(u=(a=i.call(n)).done)&&(o.push(a.value),o.length!==t);u=!0);}catch(e){c=!0,r=e}finally{try{if(!u&&null!=n.return&&(l=n.return(),Object(l)!==l))return}finally{if(c)throw r}}return o}}(n,a)||function(e,t){if(e){if("string"==typeof e)return E(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?E(e,t):void 0}}(n,a)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),o=l[0],u=l[1];return React.createElement(g.InlineControls,null,React.createElement(g.Input,{label:(0,m.__)("API Key","pixmagix"),help:h(r+"ApiKey"),value:o,onChange:u}),React.createElement(g.Button,{small:!0,active:!!o,disabled:!o,onClick:function(){if(r){var e={};e[r+"_api_key"]=o,y()({path:_+"settings/",method:"POST",data:e}).then((function(e){console.log(e),null==i||i()})).catch((function(e){console.error(e)}))}}},(0,m.__)("Continue","pixmagix")))};var R=[{label:(0,m.__)("Any Type","pixmagix"),value:""},{label:(0,m.__)("Photo","pixmagix"),value:"photo"},{label:(0,m.__)("Illustration","pixmagix"),value:"illustration"},{label:(0,m.__)("Vector","pixmagix"),value:"vector"}],O=[{label:(0,m.__)("Any Orientation","pixmagix"),value:""},{label:(0,m.__)("Horizontal","pixmagix"),value:"horizontal"},{label:(0,m.__)("Vertical","pixmagix"),value:"vertical"}],w=[{label:(0,m.__)("All Categories","pixmagix"),value:""},{label:(0,m.__)("Backgrounds","pixmagix"),value:"backgrounds"},{label:(0,m.__)("Fashion","pixmagix"),value:"fashion"},{label:(0,m.__)("Nature","pixmagix"),value:"nature"},{label:(0,m.__)("Science","pixmagix"),value:"science"},{label:(0,m.__)("Education","pixmagix"),value:"education"},{label:(0,m.__)("Feelings","pixmagix"),value:"feelings"},{label:(0,m.__)("Health","pixmagix"),value:"health"},{label:(0,m.__)("People","pixmagix"),value:"people"},{label:(0,m.__)("Religion","pixmagix"),value:"religion"},{label:(0,m.__)("Places","pixmagix"),value:"places"},{label:(0,m.__)("Animals","pixmagix"),value:"animals"},{label:(0,m.__)("Industry","pixmagix"),value:"industry"},{label:(0,m.__)("Computer","pixmagix"),value:"computer"},{label:(0,m.__)("Food","pixmagix"),value:"food"},{label:(0,m.__)("Sports","pixmagix"),value:"sports"},{label:(0,m.__)("Transportation","pixmagix"),value:"transportation"},{label:(0,m.__)("Travel","pixmagix"),value:"travel"},{label:(0,m.__)("Buildings","pixmagix"),value:"buildings"},{label:(0,m.__)("Business","pixmagix"),value:"business"},{label:(0,m.__)("Music","pixmagix"),value:"music"}],P=[{label:(0,m.__)("Red","pixmagix"),value:"red"},{label:(0,m.__)("Orange","pixmagix"),value:"orange"},{label:(0,m.__)("Yellow","pixmagix"),value:"yellow"},{label:(0,m.__)("Green","pixmagix"),value:"green"},{label:(0,m.__)("Turquoise","pixmagix"),value:"turquoise"},{label:(0,m.__)("Blue","pixmagix"),value:"blue"},{label:(0,m.__)("Lilac","pixmagix"),value:"lilac"},{label:(0,m.__)("Pink","pixmagix"),value:"pink"},{label:(0,m.__)("White","pixmagix"),value:"white"},{label:(0,m.__)("Gray","pixmagix"),value:"gray"},{label:(0,m.__)("Black","pixmagix"),value:"black"},{label:(0,m.__)("Brown","pixmagix"),value:"brown"}];const C=function(e){var t=e.hasKey,n=e.search,a=e.type,r=e.orientation,i=e.category,l=e.color,o=e.onChange,u=e.onContinue;return t?React.createElement(g.InlineControls,{logo:{title:(0,m.__)("Powered by Pixabay","pixmagix"),url:"https://pixabay.com/",src:x.images_folder+"pixabay.jpg"}},React.createElement(g.Input,{label:(0,m.__)("Search","pixmagix"),value:n,onChange:function(e){return o("search",e)}}),React.createElement(g.Select,{label:(0,m.__)("Type","pixmagix"),options:R,value:a,onChange:function(e){return o("type",e)}}),React.createElement(g.Select,{label:(0,m.__)("Orientation","pixmagix"),options:O,value:r,onChange:function(e){return o("orientation",e)}}),React.createElement(g.Select,{label:(0,m.__)("Category","pixmagix"),options:w,value:i,onChange:function(e){return o("category",e)}}),React.createElement(g.ColorPalette.Dropdown,{label:(0,m.__)("Color","pixmagix"),options:P,color:l,onChange:function(e){return o("color",e)}})):React.createElement(S,{platform:"pixabay",onReady:u})};var j=[{label:(0,m.__)("Any Orientation","pixmagix"),value:""},{label:(0,m.__)("Landscape","pixmagix"),value:"landscape"},{label:(0,m.__)("Portrait","pixmagix"),value:"portrait"},{label:(0,m.__)("Square","pixmagix"),value:"square"}],A=[{label:(0,m.__)("Red","pixmagix"),value:"red"},{label:(0,m.__)("Orange","pixmagix"),value:"orange"},{label:(0,m.__)("Yellow","pixmagix"),value:"yellow"},{label:(0,m.__)("Green","pixmagix"),value:"green"},{label:(0,m.__)("Turquoise","pixmagix"),value:"turquoise"},{label:(0,m.__)("Blue","pixmagix"),value:"blue"},{label:(0,m.__)("Violet","pixmagix"),value:"violet"},{label:(0,m.__)("Pink","pixmagix"),value:"pink"},{label:(0,m.__)("Brown","pixmagix"),value:"brown"},{label:(0,m.__)("Black","pixmagix"),value:"black"},{label:(0,m.__)("Gray","pixmagix"),value:"gray"},{label:(0,m.__)("White","pixmagix"),value:"white"}];const I=function(e){var n=e.hasKey,a=e.search,r=e.orientation,i=e.color,l=e.onChange,o=e.onContinue;return n?React.createElement(g.InlineControls,{logo:{title:(0,m.__)("Powered by Pexels","pixmagix"),url:"https://pexels.com/",src:x.images_folder+"pexels.jpg"}},React.createElement(g.Input,{label:(0,m.__)("Search","pixmagix"),value:a,onChange:function(e){return l("search",e)}}),!!a&&React.createElement(t.Fragment,null,React.createElement(g.Select,{label:(0,m.__)("Orientation","pixmagix"),options:j,value:r,onChange:function(e){return l("orientation",e)}}),React.createElement(g.ColorPalette.Dropdown,{label:(0,m.__)("Color","pixmagix"),options:A,color:i,onChange:function(e){return l("color",e)}}))):React.createElement(S,{platform:"pexels",onReady:o})};var k=[{label:(0,m.__)("Any Orientation","pixmagix"),value:""},{label:(0,m.__)("Landscape","pixmagix"),value:"landscape"},{label:(0,m.__)("Portrait","pixmagix"),value:"portrait"},{label:(0,m.__)("Squarish","pixmagix"),value:"squarish"}],T=[{label:(0,m.__)("Black","pixmagix"),value:"black"},{label:(0,m.__)("White","pixmagix"),value:"white"},{label:(0,m.__)("Yellow","pixmagix"),value:"yellow"},{label:(0,m.__)("Orange","pixmagix"),value:"orange"},{label:(0,m.__)("Red","pixmagix"),value:"red"},{label:(0,m.__)("Purple","pixmagix"),value:"purple"},{label:(0,m.__)("Magenta","pixmagix"),value:"magenta"},{label:(0,m.__)("Green","pixmagix"),value:"green"},{label:(0,m.__)("Teal","pixmagix"),value:"teal"},{label:(0,m.__)("And blue","pixmagix"),value:"blue"}];const B=function(e){var n=e.hasKey,a=e.search,r=e.orientation,i=e.color,l=e.onChange,o=e.onContinue;return n?React.createElement(g.InlineControls,{logo:{title:(0,m.__)("Powered by Unsplash","pixmagix"),url:"https://unsplash.com/",src:x.images_folder+"unsplash.jpg"}},React.createElement(g.Input,{label:(0,m.__)("Search","pixmagix"),value:a,onChange:function(e){return l("search",e)}}),!!a&&React.createElement(t.Fragment,null,React.createElement(g.Select,{label:(0,m.__)("Orientation","pixmagix"),options:k,value:r,onChange:function(e){return l("orientation",e)}}),React.createElement(g.ColorPalette.Dropdown,{label:(0,m.__)("Color","pixmagix"),options:T,color:i,onChange:function(e){return l("color",e)}}))):React.createElement(S,{platform:"unsplash",onReady:o})};function N(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";if(0===t.indexOf("data:"))return t;var n=-1===(null==t?void 0:t.indexOf("?"))?"?":"&";return t+n+(0,v.reduce)(e,(function(e,t,n){return e.push(n+"="+t),e}),[]).join("&")}function M(e,t){var n,a,r=(0,v.omitBy)(e,(function(e,t){return!e||"page"===t}));e.page&&(r.p=e.page),null===(n=window.history)||void 0===n||null===(a=n.pushState)||void 0===a||a.call(n,{},"",N(r,t))}function K(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var a,r,i,l,o=[],u=!0,c=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;u=!1}else for(;!(u=(a=i.call(n)).done)&&(o.push(a.value),o.length!==t);u=!0);}catch(e){c=!0,r=e}finally{try{if(!u&&null!=n.return&&(l=n.return(),Object(l)!==l))return}finally{if(c)throw r}}return o}}(e,t)||function(e,t){if(e){if("string"==typeof e)return D(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?D(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function D(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=Array(t);n<t;n++)a[n]=e[n];return a}const F=function(e){var n,a=e.author,r=e.title,i=void 0===r?"":r,l=e.preview,o=e.sizes,u=void 0===o?[]:o,c=e.canEdit,p=e.hasPrev,s=e.hasNext,f=e.onNavigate,v=e.onClose,b=e.sendNotice,d=K((0,t.useState)(""),2),h=d[0],E=d[1],S=K((0,t.useState)(""),2),R=S[0],O=S[1],w=K((0,t.useState)(""),2),P=w[0],C=w[1],j=K((0,t.useState)(""),2),A=j[0],I=j[1],k=K((0,t.useState)(""),2),T=k[0],B=k[1],M=K((0,t.useState)(""),2),D=M[0],F=M[1],G=K((0,t.useState)(!1),2),z=G[0],q=G[1],U=function(e){var t,n={src:null===(t=h||l)||void 0===t?void 0:t.replace(/&#038;/g,"&"),filename:(R||i).replace(/\s/g,"-").replace(/[^A-z\-]/g,"").toLowerCase(),title:P,alt:A,caption:T,description:D};q(!0),y()({path:_+"free_images/",method:"POST",data:n}).then((function(t){console.log(t),e?window.location.replace(N({image:t.mediaId},x.new_url)):(b({type:"success",message:(0,m.__)("Image Saved Successfully","pixmagix")}),q(!1))})).catch((function(e){var t=e.message;b({type:"error",message:t}),q(!1)}))};return React.createElement(g.Modal,{title:(0,m.sprintf)((0,m.__)("%s by %s","pixmagix"),i,a),actions:c?React.createElement(g.ButtonGroup,null,React.createElement(g.Button,{active:!0,onClick:function(){return U(!0)}},(0,m.__)("Save And Edit","pixmagix")),React.createElement(g.Button,{onClick:function(){return U()}},(0,m.__)("Just Save","pixmagix"))):React.createElement(g.Button,{onClick:function(){return U()}},(0,m.__)("Save","pixmagix")),navigation:{prev:{disabled:!p,onClick:function(){return f("prev")}},next:{disabled:!s,onClick:function(){return f("next")}}},onClose:v},React.createElement(g.Row,null,React.createElement(g.Column,null,React.createElement("figure",null,React.createElement("img",{src:null===(n=h||l)||void 0===n?void 0:n.replace(/&#038;/g,"&")}))),React.createElement(g.Column,null,React.createElement(g.Widget,null,React.createElement(g.Input,{label:(0,m.__)("File Name","pixmagix"),placeholder:i.replace(/\s/g,"-").replace(/[^A-z\-]/g,""),value:R,onChange:O}),React.createElement(g.Select,{label:(0,m.__)("Image Size","pixmagix"),options:u,value:h,onChange:E}),React.createElement(g.Input,{label:(0,m.__)("Title","pixmagix"),value:P,onChange:C}),React.createElement(g.Textarea,{label:(0,m.__)("Alternative Text","pixmagix"),value:A,onChange:I}),React.createElement(g.Textarea,{label:(0,m.__)("Caption","pixmagix"),value:T,onChange:B}),React.createElement(g.Textarea,{label:(0,m.__)("Description","pixmagix"),value:D,onChange:F})))),React.createElement(g.Loader,{show:z}))};function G(e){return G="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},G(e)}var z=["hasPixabayKey","hasPexelsKey","hasUnsplashKey","items","maxPages","canEdit","sendNotice"];function q(){return q=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)({}).hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},q.apply(null,arguments)}function U(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function L(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?U(Object(n),!0).forEach((function(t){W(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):U(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function W(e,t,n){return(t=function(e){var t=function(e){if("object"!=G(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=G(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==G(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function H(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var a,r,i,l,o=[],u=!0,c=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;u=!1}else for(;!(u=(a=i.call(n)).done)&&(o.push(a.value),o.length!==t);u=!0);}catch(e){c=!0,r=e}finally{try{if(!u&&null!=n.return&&(l=n.return(),Object(l)!==l))return}finally{if(c)throw r}}return o}}(e,t)||function(e,t){if(e){if("string"==typeof e)return $(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?$(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function $(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=Array(t);n<t;n++)a[n]=e[n];return a}const V=function(e){var n=e.hasPixabayKey,a=e.hasPexelsKey,r=e.hasUnsplashKey,i=e.items,l=void 0===i?[]:i,o=e.maxPages,u=e.canEdit,c=e.sendNotice,p=function(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.includes(a))continue;n[a]=e[a]}return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],t.includes(n)||{}.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}(e,z),s=(0,t.useRef)(!1),f=H((0,t.useState)(n),2),b=f[0],d=f[1],h=H((0,t.useState)(a),2),E=h[0],S=h[1],R=H((0,t.useState)(r),2),O=R[0],w=R[1],P=H((0,t.useState)(p),2),j=P[0],A=P[1],k=H((0,t.useState)(l),2),T=k[0],K=k[1],D=H((0,t.useState)(o),2),G=D[0],U=D[1],$=H((0,t.useState)(null),2),V=$[0],Y=$[1],J=H((0,t.useState)(!1),2),Q=J[0],X=J[1],Z=(0,t.useMemo)((function(){return"pixabay"===j.platform?!b:"pexels"===j.platform?!E:"unsplash"===j.platform&&!O}),[j,b,E,O]),ee=(0,t.useMemo)((function(){return(0,v.findIndex)(T,V)}),[T,V]),te=function(e,t){X(!0);var n=t?L(L({},j),{},W({},e,t)):(0,v.omit)(j,e);"page"!==e&&(n.page=1),A(n)};return(0,t.useEffect)((function(){s.current?y()({path:N(j,_+"free_images/")}).then((function(e){console.log(e),K(e.items),U(e.maxPages),X(!1),M(j,x.self_url)})).catch((function(e){console.error(e),"authorization_failed"===e.code&&(K([]),U(0),X(!1),M(j,x.self_url))})):s.current=!0}),[j,b,E,O]),React.createElement("div",{className:"pixmagix-content"},React.createElement(g.Widget,{tabs:[{name:"pixabay",label:(0,m.__)("Pixabay","pixmagix"),content:React.createElement(C,q({},j,{hasKey:b,onChange:te,onContinue:function(){X(!0),d(!0)}}))},{name:"pexels",label:(0,m.__)("Pexels","pixmagix"),content:React.createElement(I,q({},j,{hasKey:E,onChange:te,onContinue:function(){X(!0),S(!0)}}))},{name:"unsplash",label:(0,m.__)("Unsplash","pixmagix"),content:React.createElement(B,q({},j,{hasKey:O,onChange:te,onContinue:function(){X(!0),w(!0)}}))}],initShow:j.platform,onChange:function(e){var t=e.name;return te("platform",t)}}),React.createElement(g.Pagination,{page:j.page,maxPages:G,onChange:function(e){return te("page",e)}}),React.createElement(g.Grid,null,Z?React.createElement(g.GridItem,{isEmpty:!0,caption:(0,m.sprintf)((0,m.__)('To access free images from %s, please enter a valid API key in the input field above and click the "Continue" button.',"pixmagix"),(0,v.capitalize)(j.platform))}):T.length?T.map((function(e){var t;return React.createElement(g.GridItem,{key:e.id,caption:e.title,src:null===(t=e.thumbnail)||void 0===t?void 0:t.replace(/&#038;/g,"&"),onClick:function(t){t.preventDefault(),Y(e)}})})):React.createElement(g.GridItem,{isEmpty:!0,caption:(0,m.__)("No Items Found","pixmagix")})),React.createElement(g.Pagination,{page:j.page,maxPages:G,onChange:function(e){return te("page",e)}}),!!V&&React.createElement(F,q({key:V.id},V,{canEdit:u,hasPrev:ee>0,hasNext:ee<l.length-1,onNavigate:function(e){var t=function(){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,n=parseFloat(arguments.length>0&&void 0!==arguments[0]?arguments[0]:0)||0;return Math.min(Math.max(n,e),t)}("prev"===e?ee-1:ee+1,0,T.length-1);Y(T[t])},onClose:function(){return Y(null)},sendNotice:c})),React.createElement(g.Loader,{show:Q}))};var Y=n(942),J=n.n(Y);function Q(e){return Q="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Q(e)}const X=function(e){var n,a,r,i=e.type,l=e.message,o=e.onExpire;return(0,t.useEffect)((function(){l&&setTimeout((function(){o(null)}),4e3)}),[l]),l?React.createElement("div",{className:J()("pixmagix-notification",(n={},a="pixmagix-notification__".concat(i),r=i,(a=function(e){var t=function(e){if("object"!=Q(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=Q(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==Q(t)?t:t+""}(a))in n?Object.defineProperty(n,a,{value:r,enumerable:!0,configurable:!0,writable:!0}):n[a]=r,n))},React.createElement("p",null,l)):null};function Z(){return Z=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)({}).hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},Z.apply(null,arguments)}function ee(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=Array(t);n<t;n++)a[n]=e[n];return a}const te=function(e){var n,a,r=(n=(0,t.useState)(null),a=2,function(e){if(Array.isArray(e))return e}(n)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var a,r,i,l,o=[],u=!0,c=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;u=!1}else for(;!(u=(a=i.call(n)).done)&&(o.push(a.value),o.length!==t);u=!0);}catch(e){c=!0,r=e}finally{try{if(!u&&null!=n.return&&(l=n.return(),Object(l)!==l))return}finally{if(c)throw r}}return o}}(n,a)||function(e,t){if(e){if("string"==typeof e)return ee(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ee(e,t):void 0}}(n,a)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),i=r[0],l=r[1];return React.createElement(s,null,React.createElement(f,null),React.createElement(V,Z({},e,{sendNotice:l})),React.createElement(X,Z({},i,{onExpire:l})))};var ne=function(e){return React.createElement(te,e)},ae=function(t){var n=document.getElementById("pixmagix");(0,e.H)(n).render(React.createElement(ne,t))}})(),pixmagixEditor=a})();